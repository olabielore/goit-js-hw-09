{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const formData = {\n  email: '',\n  message: '',\n};\n\nconst initData = localStorage.getItem('feedback-form-state');\nconst initDataParse = JSON.parse(initData);\n\nconst formEl = document.createElement('form');\nformEl.classList.add('feedback-form');\nformEl.autocomplete = 'off';\n\nconst labelEmailEl = document.createElement('label');\nlabelEmailEl.classList.add('label-element');\nlabelEmailEl.textContent = 'Email';\n\nconst inputEmail = document.createElement('input');\ninputEmail.classList.add('form-input');\ninputEmail.type = 'email';\ninputEmail.name = 'email';\ninputEmail.autofocus = true;\n\nif (initData !== null) {\n  inputEmail.value = initDataParse.email;\n}\n\nconst labelMessageEl = document.createElement('label');\nlabelMessageEl.classList.add('label-element');\nlabelMessageEl.textContent = 'Message';\n\nconst textAreaMessage = document.createElement('textarea');\ntextAreaMessage.classList.add('form-text-area');\ntextAreaMessage.name = 'message';\ntextAreaMessage.rows = 8;\n\nif (initData !== null) {\n  textAreaMessage.value = initDataParse.message;\n}\n\nconst btnEl = document.createElement('button');\nbtnEl.classList.add('form-button');\nbtnEl.type = 'submit';\nbtnEl.textContent = 'Submit';\n\nlabelEmailEl.append(inputEmail);\nlabelMessageEl.append(textAreaMessage);\nformEl.append(labelEmailEl);\nformEl.append(labelMessageEl);\nformEl.append(btnEl);\n\ndocument.body.append(formEl);\n\nconst addDataToLocalStorage = () => {\n  try {\n    const jsonFormData = JSON.stringify(formData);\n    localStorage.setItem('feedback-form-state', jsonFormData);\n  } catch (error) {\n    console.error(error.message);\n  }\n};\n\nconst onInput = event => {\n  if (!event) {\n    return;\n  }\n\n  const fieldName = event.target.name;\n\n  const fieldValue = event.target.value.trim();\n\n  if (fieldName === 'email') {\n    formData.email = fieldValue;\n  }\n\n  if (fieldName === 'message') {\n    formData.message = fieldValue;\n  }\n\n  addDataToLocalStorage();\n};\n\nconst onSabmit = event => {\n  event.preventDefault();\n\n  if (formData.email === '' || formData.message === '') {\n    return alert('Fill please all fields');\n  }\n\n  console.log(formData);\n\n  localStorage.removeItem('feedback-form-state');\n  inputEmail.value = '';\n  textAreaMessage.value = '';\n  formData.email = '';\n  formData.message = '';\n};\n\nformEl.addEventListener('input', onInput);\n\nformEl.addEventListener('submit', onSabmit);\n"],"names":["formData","initData","initDataParse","formEl","labelEmailEl","inputEmail","labelMessageEl","textAreaMessage","btnEl","addDataToLocalStorage","jsonFormData","error","onInput","event","fieldName","fieldValue","onSabmit"],"mappings":"wFAAA,MAAMA,EAAW,CACf,MAAO,GACP,QAAS,EACX,EAEMC,EAAW,aAAa,QAAQ,qBAAqB,EACrDC,EAAgB,KAAK,MAAMD,CAAQ,EAEnCE,EAAS,SAAS,cAAc,MAAM,EAC5CA,EAAO,UAAU,IAAI,eAAe,EACpCA,EAAO,aAAe,MAEtB,MAAMC,EAAe,SAAS,cAAc,OAAO,EACnDA,EAAa,UAAU,IAAI,eAAe,EAC1CA,EAAa,YAAc,QAE3B,MAAMC,EAAa,SAAS,cAAc,OAAO,EACjDA,EAAW,UAAU,IAAI,YAAY,EACrCA,EAAW,KAAO,QAClBA,EAAW,KAAO,QAClBA,EAAW,UAAY,GAEnBJ,IAAa,OACfI,EAAW,MAAQH,EAAc,OAGnC,MAAMI,EAAiB,SAAS,cAAc,OAAO,EACrDA,EAAe,UAAU,IAAI,eAAe,EAC5CA,EAAe,YAAc,UAE7B,MAAMC,EAAkB,SAAS,cAAc,UAAU,EACzDA,EAAgB,UAAU,IAAI,gBAAgB,EAC9CA,EAAgB,KAAO,UACvBA,EAAgB,KAAO,EAEnBN,IAAa,OACfM,EAAgB,MAAQL,EAAc,SAGxC,MAAMM,EAAQ,SAAS,cAAc,QAAQ,EAC7CA,EAAM,UAAU,IAAI,aAAa,EACjCA,EAAM,KAAO,SACbA,EAAM,YAAc,SAEpBJ,EAAa,OAAOC,CAAU,EAC9BC,EAAe,OAAOC,CAAe,EACrCJ,EAAO,OAAOC,CAAY,EAC1BD,EAAO,OAAOG,CAAc,EAC5BH,EAAO,OAAOK,CAAK,EAEnB,SAAS,KAAK,OAAOL,CAAM,EAE3B,MAAMM,EAAwB,IAAM,CAClC,GAAI,CACF,MAAMC,EAAe,KAAK,UAAUV,CAAQ,EAC5C,aAAa,QAAQ,sBAAuBU,CAAY,CACzD,OAAQC,EAAO,CACd,QAAQ,MAAMA,EAAM,OAAO,CAC5B,CACH,EAEMC,EAAUC,GAAS,CACvB,GAAI,CAACA,EACH,OAGF,MAAMC,EAAYD,EAAM,OAAO,KAEzBE,EAAaF,EAAM,OAAO,MAAM,KAAI,EAEtCC,IAAc,UAChBd,EAAS,MAAQe,GAGfD,IAAc,YAChBd,EAAS,QAAUe,GAGrBN,GACF,EAEMO,EAAWH,GAAS,CAGxB,GAFAA,EAAM,eAAc,EAEhBb,EAAS,QAAU,IAAMA,EAAS,UAAY,GAChD,OAAO,MAAM,wBAAwB,EAGvC,QAAQ,IAAIA,CAAQ,EAEpB,aAAa,WAAW,qBAAqB,EAC7CK,EAAW,MAAQ,GACnBE,EAAgB,MAAQ,GACxBP,EAAS,MAAQ,GACjBA,EAAS,QAAU,EACrB,EAEAG,EAAO,iBAAiB,QAASS,CAAO,EAExCT,EAAO,iBAAiB,SAAUa,CAAQ"}