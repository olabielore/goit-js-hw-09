{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const formEl = document.querySelector('.feedback-form');\n\nconst formData = {\n  email: '',\n  message: '',\n};\n\nconst labelEmailEl = document.createElement('label');\nlabelEmailEl.classList.add('label-element');\nlabelEmailEl.textContent = 'Email';\n\nconst inputEmail = document.createElement('input');\ninputEmail.classList.add('form-input');\ninputEmail.type = 'email';\ninputEmail.name = 'email';\ninputEmail.autofocus = true;\n\nconst labelMessageEl = document.createElement('label');\nlabelMessageEl.classList.add('label-element');\nlabelMessageEl.textContent = 'Message';\n\nconst textAreaMessage = document.createElement('textarea');\ntextAreaMessage.classList.add('form-text-area');\ntextAreaMessage.name = 'message';\ntextAreaMessage.rows = 8;\n\nconst btnEl = document.createElement('button');\nbtnEl.classList.add('form-button');\nbtnEl.type = 'submit';\nbtnEl.textContent = 'Submit';\n\nlabelEmailEl.append(inputEmail);\nlabelMessageEl.append(textAreaMessage);\nformEl.append(labelEmailEl);\nformEl.append(labelMessageEl);\nformEl.append(btnEl);\n\ndocument.body.append(formEl);\n\nconst initData = localStorage.getItem('feedback-form-state');\n\nif (initData !== null) {\n  const initDataParse = JSON.parse(initData);\n\n  textAreaMessage.value = initDataParse.message;\n  inputEmail.value = initDataParse.email;\n\n  formData.message = initDataParse.message;\n  formData.email = initDataParse.email;\n}\n\nconst addDataToLocalStorage = () => {\n  try {\n    const jsonFormData = JSON.stringify(formData);\n    localStorage.setItem('feedback-form-state', jsonFormData);\n  } catch (error) {\n    console.error(error.message);\n  }\n};\n\nconst onInput = event => {\n  if (!event) {\n    return;\n  }\n\n  const fieldName = event.target.name;\n\n  const fieldValue = event.target.value.trim();\n\n  if (fieldName === 'email') {\n    formData.email = fieldValue;\n  }\n\n  if (fieldName === 'message') {\n    formData.message = fieldValue;\n  }\n\n  addDataToLocalStorage();\n};\n\nconst onSabmit = event => {\n  event.preventDefault();\n\n  if (formData.email === '' || formData.message === '') {\n    return alert('Fill please all fields');\n  }\n\n  console.log(formData);\n\n  localStorage.removeItem('feedback-form-state');\n  inputEmail.value = '';\n  textAreaMessage.value = '';\n  formData.email = '';\n  formData.message = '';\n};\n\nformEl.addEventListener('input', onInput);\n\nformEl.addEventListener('submit', onSabmit);\n"],"names":["formEl","formData","labelEmailEl","inputEmail","labelMessageEl","textAreaMessage","btnEl","initData","initDataParse","addDataToLocalStorage","jsonFormData","error","onInput","event","fieldName","fieldValue","onSabmit"],"mappings":"wFAAA,MAAMA,EAAS,SAAS,cAAc,gBAAgB,EAEhDC,EAAW,CACf,MAAO,GACP,QAAS,EACX,EAEMC,EAAe,SAAS,cAAc,OAAO,EACnDA,EAAa,UAAU,IAAI,eAAe,EAC1CA,EAAa,YAAc,QAE3B,MAAMC,EAAa,SAAS,cAAc,OAAO,EACjDA,EAAW,UAAU,IAAI,YAAY,EACrCA,EAAW,KAAO,QAClBA,EAAW,KAAO,QAClBA,EAAW,UAAY,GAEvB,MAAMC,EAAiB,SAAS,cAAc,OAAO,EACrDA,EAAe,UAAU,IAAI,eAAe,EAC5CA,EAAe,YAAc,UAE7B,MAAMC,EAAkB,SAAS,cAAc,UAAU,EACzDA,EAAgB,UAAU,IAAI,gBAAgB,EAC9CA,EAAgB,KAAO,UACvBA,EAAgB,KAAO,EAEvB,MAAMC,EAAQ,SAAS,cAAc,QAAQ,EAC7CA,EAAM,UAAU,IAAI,aAAa,EACjCA,EAAM,KAAO,SACbA,EAAM,YAAc,SAEpBJ,EAAa,OAAOC,CAAU,EAC9BC,EAAe,OAAOC,CAAe,EACrCL,EAAO,OAAOE,CAAY,EAC1BF,EAAO,OAAOI,CAAc,EAC5BJ,EAAO,OAAOM,CAAK,EAEnB,SAAS,KAAK,OAAON,CAAM,EAE3B,MAAMO,EAAW,aAAa,QAAQ,qBAAqB,EAE3D,GAAIA,IAAa,KAAM,CACrB,MAAMC,EAAgB,KAAK,MAAMD,CAAQ,EAEzCF,EAAgB,MAAQG,EAAc,QACtCL,EAAW,MAAQK,EAAc,MAEjCP,EAAS,QAAUO,EAAc,QACjCP,EAAS,MAAQO,EAAc,KACjC,CAEA,MAAMC,EAAwB,IAAM,CAClC,GAAI,CACF,MAAMC,EAAe,KAAK,UAAUT,CAAQ,EAC5C,aAAa,QAAQ,sBAAuBS,CAAY,CACzD,OAAQC,EAAO,CACd,QAAQ,MAAMA,EAAM,OAAO,CAC5B,CACH,EAEMC,EAAUC,GAAS,CACvB,GAAI,CAACA,EACH,OAGF,MAAMC,EAAYD,EAAM,OAAO,KAEzBE,EAAaF,EAAM,OAAO,MAAM,KAAI,EAEtCC,IAAc,UAChBb,EAAS,MAAQc,GAGfD,IAAc,YAChBb,EAAS,QAAUc,GAGrBN,GACF,EAEMO,EAAWH,GAAS,CAGxB,GAFAA,EAAM,eAAc,EAEhBZ,EAAS,QAAU,IAAMA,EAAS,UAAY,GAChD,OAAO,MAAM,wBAAwB,EAGvC,QAAQ,IAAIA,CAAQ,EAEpB,aAAa,WAAW,qBAAqB,EAC7CE,EAAW,MAAQ,GACnBE,EAAgB,MAAQ,GACxBJ,EAAS,MAAQ,GACjBA,EAAS,QAAU,EACrB,EAEAD,EAAO,iBAAiB,QAASY,CAAO,EAExCZ,EAAO,iBAAiB,SAAUgB,CAAQ"}